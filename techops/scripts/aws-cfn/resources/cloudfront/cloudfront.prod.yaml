Type: AWS::CloudFront::Distribution
DependsOn:
- ResourceWWWRedirectS3Bucket
Properties:
  DistributionConfig:
    Comment: Cloudfront Distribution pointing to S3 bucket
    Origins:
    - DomainName:
        Fn::Join:
        - "."
        - - Ref: ParamAppDomain
          - Fn::FindInMap:
            - RegionMap
            - Ref: AWS::Region
            - websiteendpoint
      Id:
        Fn::Join:
        - "-"
        - - custom
          - cloudfront
          - dist
          - origin
          - id
          - Ref: ParamAppDomain
      CustomOriginConfig:
        HTTPPort: '80'
        HTTPSPort: '443'
        OriginProtocolPolicy: http-only
    Enabled: 'true'
    DefaultRootObject: index.html
    Aliases:
    - Ref: ParamAppDomain
    DefaultCacheBehavior:
      AllowedMethods:
      - GET
      - HEAD
      Compress: 'true'
      TargetOriginId:
        Fn::Join:
        - "-"
        - - custom
          - cloudfront
          - dist
          - origin
          - id
          - Ref: ParamAppDomain
      ForwardedValues:
        QueryString: 'true'
      ViewerProtocolPolicy: allow-all